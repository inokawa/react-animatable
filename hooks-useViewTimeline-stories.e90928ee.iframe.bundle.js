"use strict";(self.webpackChunkreact_animatable=self.webpackChunkreact_animatable||[]).push([[565],{"./stories/hooks/useViewTimeline.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Document:()=>Document,__namedExportsOrder:()=>__namedExportsOrder,default:()=>useViewTimeline_stories});var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/react/index.js"),utils=__webpack_require__("./src/core/utils.ts"),internal=__webpack_require__("./src/react/types/internal.ts"),useLatestRef=__webpack_require__("./src/react/hooks/useLatestRef.ts"),useStatic=__webpack_require__("./src/react/hooks/useStatic.ts"),useViewTimeline=function(){var opts=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},optsRef=(0,useLatestRef.I)(opts);return(0,useStatic.T)(function(){var _target;return(0,utils.f0)(function(ref){_target=ref},{_type:internal.X,_get:function(){var _optsRef_current=optsRef.current,axis=_optsRef_current.axis,inset=_optsRef_current.inset;return new ViewTimeline({subject:_target||document.documentElement,axis:axis,inset:inset})}})})},useAnimation=__webpack_require__("./src/react/hooks/useAnimation.ts");let useViewTimeline_stories={parameters:{storySource:{source:'import { StoryObj } from "@storybook/react";\nimport React, { useEffect } from "react";\nimport { useAnimation, useViewTimeline } from "../../src";\n\nexport default { component: useViewTimeline };\n\nexport const Document: StoryObj = {\n  render: () => {\n    const animate = useAnimation(\n      [\n        { opacity: 0, transform: "scaleX(0)" },\n        { opacity: 1, transform: "scaleX(1)" },\n      ],\n      {\n        duration: 200,\n        timeline: useViewTimeline(),\n      }\n    );\n    useEffect(() => {\n      animate.play();\n    }, []);\n\n    return (\n      <div style={{ width: 200 }}>\n        <h1>Content</h1>\n        <p>\n          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do\n          eiusmod tempor incididunt ut labore et dolore magna aliqua. Risus quis\n          varius quam quisque id. Et ligula ullamcorper malesuada proin libero\n          nunc consequat interdum varius. Elit ullamcorper dignissim cras\n          tincidunt lobortis feugiat vivamus at augue.\n        </p>\n        <p>\n          Dolor sed viverra ipsum nunc aliquet. Sed sed risus pretium quam\n          vulputate dignissim. Tortor aliquam nulla facilisi cras. A erat nam at\n          lectus urna duis convallis convallis. Nibh ipsum consequat nisl vel\n          pretium lectus. Sagittis aliquam malesuada bibendum arcu vitae\n          elementum. Malesuada bibendum arcu vitae elementum curabitur vitae\n          nunc sed velit.\n        </p>\n        <div\n          ref={animate}\n          style={{\n            width: 300,\n            height: 200,\n            margin: "0 auto",\n            backgroundColor: "deeppink",\n          }}\n        />\n        <p>\n          Adipiscing enim eu turpis egestas pretium aenean pharetra magna ac.\n          Arcu cursus vitae congue mauris rhoncus aenean vel. Sit amet cursus\n          sit amet dictum. Augue neque gravida in fermentum et. Gravida rutrum\n          quisque non tellus orci ac auctor augue mauris. Risus quis varius quam\n          quisque id diam vel quam elementum. Nibh praesent tristique magna sit\n          amet purus gravida quis. Duis ultricies lacus sed turpis tincidunt id\n          aliquet. In egestas erat imperdiet sed euismod nisi. Eget egestas\n          purus viverra accumsan in nisl nisi scelerisque. Netus et malesuada\n          fames ac.\n        </p>\n      </div>\n    );\n  },\n};\n',locationsMap:{document:{startLoc:{col:34,line:7},endLoc:{col:1,line:64},startBody:{col:34,line:7},endBody:{col:1,line:64}}}}},component:useViewTimeline};var Document={render:function(){var animate=(0,useAnimation._)([{opacity:0,transform:"scaleX(0)"},{opacity:1,transform:"scaleX(1)"}],{duration:200,timeline:useViewTimeline()});return(0,react.useEffect)(function(){animate.play()},[]),(0,jsx_runtime.jsxs)("div",{style:{width:200},children:[(0,jsx_runtime.jsx)("h1",{children:"Content"}),(0,jsx_runtime.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Risus quis varius quam quisque id. Et ligula ullamcorper malesuada proin libero nunc consequat interdum varius. Elit ullamcorper dignissim cras tincidunt lobortis feugiat vivamus at augue."}),(0,jsx_runtime.jsx)("p",{children:"Dolor sed viverra ipsum nunc aliquet. Sed sed risus pretium quam vulputate dignissim. Tortor aliquam nulla facilisi cras. A erat nam at lectus urna duis convallis convallis. Nibh ipsum consequat nisl vel pretium lectus. Sagittis aliquam malesuada bibendum arcu vitae elementum. Malesuada bibendum arcu vitae elementum curabitur vitae nunc sed velit."}),(0,jsx_runtime.jsx)("div",{ref:animate,style:{width:300,height:200,margin:"0 auto",backgroundColor:"deeppink"}}),(0,jsx_runtime.jsx)("p",{children:"Adipiscing enim eu turpis egestas pretium aenean pharetra magna ac. Arcu cursus vitae congue mauris rhoncus aenean vel. Sit amet cursus sit amet dictum. Augue neque gravida in fermentum et. Gravida rutrum quisque non tellus orci ac auctor augue mauris. Risus quis varius quam quisque id diam vel quam elementum. Nibh praesent tristique magna sit amet purus gravida quis. Duis ultricies lacus sed turpis tincidunt id aliquet. In egestas erat imperdiet sed euismod nisi. Eget egestas purus viverra accumsan in nisl nisi scelerisque. Netus et malesuada fames ac."})]})}};let __namedExportsOrder=["Document"]},"./node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=__webpack_require__("./node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"./node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./src/core/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C2:()=>getStyle,Iq:()=>isSameObject,RR:()=>getKeys,ZT:()=>noop,bT:()=>isSameObjectArray,f0:()=>assign,qo:()=>toArray});var noop=function(){},getKeys=Object.keys,assign=Object.assign,isArray=Array.isArray,getStyle=function(e){return getComputedStyle(e)},isSameObject=function(){var target=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},prev=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},keys=getKeys(target);return keys.length===getKeys(prev).length&&keys.every(function(k){return target[k]===prev[k]})},isSameObjectArray=function(target,prev){return target.length===prev.length&&target.every(function(t,i){return isSameObject(t,prev[i])})},toArray=function(items){return isArray(items)?items:[items]}},"./src/core/waapi.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cz:()=>_finish,DR:()=>_waitFor,H9:()=>_cancel,K:()=>_setRate,KU:()=>_play,NU:()=>_pause,YQ:()=>_setTime,eo:()=>_reverse,ih:()=>createAnimation});var createAnimation=function(el,keyframes,options,timeline){var modifiedOptions=function(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))),ownKeys.forEach(function(key){var value;value=source[key],key in target?Object.defineProperty(target,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):target[key]=value})}return target}({fill:"both"},options);try{return new Animation(new KeyframeEffect(el,keyframes,modifiedOptions),timeline)}catch(e){return el.animate(keyframes,modifiedOptions)}},_play=function(animation){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};animation.playbackRate<0&&"finished"===animation.playState&&_setRate(animation,function(p){return-p}),opts.restart&&_setTime(animation,0),animation.play()},_reverse=function(animation){animation&&animation.reverse()},_cancel=function(animation){animation&&animation.cancel()},_finish=function(animation){animation&&animation.finish()},_pause=function(animation){animation&&animation.pause()},_setTime=function(animation,arg){animation&&(animation.currentTime="function"==typeof arg?arg(animation.effect.getComputedTiming().endTime):arg)},_setRate=function(animation,arg){animation&&animation.updatePlaybackRate("function"==typeof arg?arg(animation.playbackRate):arg)},_waitFor=function(animation,name){return animation?new Promise(function(resolve){animation.onfinish=function(){("finish"===name&&animation.playbackRate>0||"reverseFinish"===name&&animation.playbackRate<0)&&resolve()}}):Promise.resolve()}},"./src/react/hooks/useAnimation.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>useAnimation});var react=__webpack_require__("./node_modules/react/index.js"),utils=__webpack_require__("./src/core/utils.ts"),waapi=__webpack_require__("./src/core/waapi.ts"),useStatic=__webpack_require__("./src/react/hooks/useStatic.ts"),useLatestRef=__webpack_require__("./src/react/hooks/useLatestRef.ts"),animations=new WeakMap,getAnimation=function(target){return animations.get(target)},deleteAnimation=function(target){var _getAnimation;null===(_getAnimation=getAnimation(target))||void 0===_getAnimation||_getAnimation.cancel(),animations.delete(target)},initAnimation=function(el,target,prevTarget){var prevAnimation=prevTarget&&getAnimation(prevTarget);if(prevAnimation){if(animations.delete(prevTarget),(0,utils.bT)(target._keyframes,prevTarget._keyframes)&&(0,utils.Iq)(target._options,prevTarget._options))return animations.set(target,prevAnimation),prevAnimation;prevAnimation.cancel()}var animation=(0,waapi.ih)(el,target._keyframes,target._options,target._timeline);return animations.set(target,animation),animation};function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _sliced_to_array(arr,i){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}(arr,i)||function(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}(arr,i)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var useAnimation=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var argsRef=(0,useLatestRef.I)(args),_useStatic=(0,useStatic.T)(function(){var _active,_target=null,init=function(args){if(_target){var el,_argsRef_current=_sliced_to_array(argsRef.current,2),keyframe=_argsRef_current[0],tmp=_argsRef_current[1],_options=void 0===tmp?{}:tmp,timeline=_options.timeline,options=function(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(excluded.indexOf(key)>=0)&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}(_options,["timeline"]),prevActive=_active;return initAnimation(_target,_active={_keyframes:(el=_target,"function"==typeof keyframe?keyframe((0,utils.C2)(el),args):(0,utils.qo)(keyframe)),_options:options,_timeline:null==timeline?void 0:timeline._get()},prevActive)}},clean=function(){_active&&deleteAnimation(_active)},externalHandle=(0,utils.f0)(function(ref){(_target=ref)||clean()},{play:function(){for(var _len=arguments.length,opts=Array(_len),_key=0;_key<_len;_key++)opts[_key]=arguments[_key];var animation=init((opts[0]||{}).args);return animation&&(0,waapi.KU)(animation),externalHandle},reverse:function(){return _active&&(0,waapi.eo)(getAnimation(_active)),externalHandle},cancel:function(){return _active&&(0,waapi.H9)(getAnimation(_active)),externalHandle},finish:function(){return _active&&(0,waapi.Cz)(getAnimation(_active)),externalHandle},pause:function(){return _active&&(0,waapi.NU)(getAnimation(_active)),externalHandle},setTime:function(time){var animation=_active&&getAnimation(_active);if(!animation){if("function"==typeof _sliced_to_array(argsRef.current,1)[0])return externalHandle;animation=init(void 0)}return(0,waapi.YQ)(animation,time),externalHandle},setPlaybackRate:function(rate){return _active&&(0,waapi.K)(getAnimation(_active),rate),externalHandle},waitFor:function(event){return(0,waapi.DR)(_active&&getAnimation(_active),event).then(function(){return externalHandle})}});return[externalHandle,function(){return clean}]}),_useStatic1=_sliced_to_array(_useStatic,2),handle=_useStatic1[0],mount=_useStatic1[1];return(0,react.useEffect)(mount,[]),handle}},"./src/react/hooks/useIsomorphicLayoutEffect.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>useIsomorphicLayoutEffect});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useIsomorphicLayoutEffect="undefined"!=typeof window?react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect:react__WEBPACK_IMPORTED_MODULE_0__.useEffect},"./src/react/hooks/useLatestRef.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>useLatestRef});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/react/hooks/useIsomorphicLayoutEffect.ts"),useLatestRef=function(value){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);return(0,_useIsomorphicLayoutEffect__WEBPACK_IMPORTED_MODULE_1__.L)(function(){ref.current=value},[value]),ref}},"./src/react/hooks/useStatic.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>useStatic});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),useStatic=function(init){var ref=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();return ref.current||(ref.current=init())}},"./src/react/types/internal.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>VIEW_TIMELINE,_:()=>SCROLL_TIMELINE});var SCROLL_TIMELINE=1,VIEW_TIMELINE=2}}]);
//# sourceMappingURL=hooks-useViewTimeline-stories.e90928ee.iframe.bundle.js.map